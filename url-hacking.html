
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>Empty searches and hacking URLs &#8212; &lt;svg style=&#34;width:24px;height:24px&#34; viewBox=&#34;0 0 24 24&#34;&gt;&lt;path fill=&#34;currentColor&#34; d=&#34;M13.78 15.3L19.78 21.3L21.89 19.14L15.89 13.14L13.78 15.3M17.5 10.1C17.11 10.1 16.69 10.05 16.36 9.91L4.97 21.25L2.86 19.14L10.27 11.74L8.5 9.96L7.78 10.66L6.33 9.25V12.11L5.63 12.81L2.11 9.25L2.81 8.55H5.62L4.22 7.14L7.78 3.58C8.95 2.41 10.83 2.41 12 3.58L9.89 5.74L11.3 7.14L10.59 7.85L12.38 9.63L14.2 7.75C14.06 7.42 14 7 14 6.63C14 4.66 15.56 3.11 17.5 3.11C18.09 3.11 18.61 3.25 19.08 3.53L16.41 6.2L17.91 7.7L20.58 5.03C20.86 5.5 21 6 21 6.63C21 8.55 19.45 10.1 17.5 10.1Z&#34; /&gt;&lt;/svg&gt; GLAM Workbook</title>
    
  <!-- Loaded before other Sphinx assets -->
  <link href="_static/styles/theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">
<link href="_static/styles/pydata-sphinx-theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">

    
  <link rel="stylesheet"
    href="_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" href="_static/styles/sphinx-book-theme.css?digest=62ba249389abaaa9ffc34bf36a076bdc1d65ee18" type="text/css" />
    <link rel="stylesheet" type="text/css" href="_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="_static/custom.css" />
    <link rel="stylesheet" type="text/css" href="_static/design-style.b7bb847fb20b106c3d81b95245e65545.min.css" />
    
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf">

    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/clipboard.min.js"></script>
    <script src="_static/copybutton.js"></script>
    <script src="_static/scripts/sphinx-book-theme.js?digest=f31d14ad54b65d19161ba51d4ffff3a77ae00456"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="_static/togglebutton.js"></script>
    <script async="async" kind="hypothesis" src="https://hypothes.is/embed.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="_static/design-tabs.js"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"
const thebe_selector = ".thebe,.cell"
const thebe_selector_input = "pre"
const thebe_selector_output = ".output, .cell_output"
</script>
    <script async="async" src="_static/sphinx-thebe.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="prev" title="Proposed topics" href="proposed-topics.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="None">
    

    <!-- Google Analytics -->
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="60">
<!-- Checkboxes to toggle the left sidebar -->
<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation" aria-label="Toggle navigation sidebar">
<label class="overlay overlay-navbar" for="__navigation">
    <div class="visually-hidden">Toggle navigation sidebar</div>
</label>
<!-- Checkboxes to toggle the in-page toc -->
<input type="checkbox" class="sidebar-toggle" name="__page-toc" id="__page-toc" aria-label="Toggle in-page Table of Contents">
<label class="overlay overlay-pagetoc" for="__page-toc">
    <div class="visually-hidden">Toggle in-page Table of Contents</div>
</label>
<!-- Headers at the top -->
<div class="announcement header-item noprint"></div>
<div class="header header-item noprint"></div>

    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<!-- Sidebar -->
<div class="bd-sidebar noprint" id="site-navigation">
    <div class="bd-sidebar__content">
        <div class="bd-sidebar__top"><div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="index.html">
      
      
      
      <h1 class="site-logo" id="site-title"><svg style="width:24px;height:24px" viewBox="0 0 24 24"><path fill="currentColor" d="M13.78 15.3L19.78 21.3L21.89 19.14L15.89 13.14L13.78 15.3M17.5 10.1C17.11 10.1 16.69 10.05 16.36 9.91L4.97 21.25L2.86 19.14L10.27 11.74L8.5 9.96L7.78 10.66L6.33 9.25V12.11L5.63 12.81L2.11 9.25L2.81 8.55H5.62L4.22 7.14L7.78 3.58C8.95 2.41 10.83 2.41 12 3.58L9.89 5.74L11.3 7.14L10.59 7.85L12.38 9.63L14.2 7.75C14.06 7.42 14 7 14 6.63C14 4.66 15.56 3.11 17.5 3.11C18.09 3.11 18.61 3.25 19.08 3.53L16.41 6.2L17.91 7.7L20.58 5.03C20.86 5.5 21 6 21 6.63C21 8.55 19.45 10.1 17.5 10.1Z" /></svg> GLAM Workbook</h1>
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="intro.html">
                    Welcome to the GLAM Workbook
                </a>
            </li>
        </ul>
        <p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  About
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="about-the-workbook.html">
   About the GLAM Workbook
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="using-the-workbook.html">
   Using this workbook
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="other-useful-resources.html">
   Other useful resources
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="proposed-topics.html">
   Proposed topics
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  How search interfaces lie
 </span>
</p>
<ul class="current nav bd-sidenav">
 <li class="toctree-l1 current active">
  <a class="current reference internal" href="#">
   Empty searches and hacking URLs
  </a>
 </li>
</ul>

    </div>
</nav></div>
        <div class="bd-sidebar__bottom">
             <!-- To handle the deprecated key -->
            
        </div>
    </div>
    <div id="rtd-footer-container"></div>
</div>


          


          
<!-- A tiny helper pixel to detect if we've scrolled -->
<div class="sbt-scroll-pixel-helper"></div>
<!-- Main content -->
<div class="col py-0 content-container">
    
    <div class="header-article row sticky-top noprint">
        



<div class="col py-1 d-flex header-article-main">
    <div class="header-article__left">
        
        <label for="__navigation"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="right"
title="Toggle navigation"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-bars"></i>
  </span>

</label>

        
    </div>
    <div class="header-article__right">
<button onclick="toggleFullScreen()"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="bottom"
title="Fullscreen mode"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>

<div class="menu-dropdown menu-dropdown-repository-buttons">
  <button class="headerbtn menu-dropdown__trigger"
      aria-label="Source repositories">
      <i class="fab fa-github"></i>
  </button>
  <div class="menu-dropdown__content">
    <ul>
      <li>
        <a href="https://github.com/GLAM-Workbench/glam-workbook"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Source repository"
>
  

<span class="headerbtn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="headerbtn__text-container">repository</span>
</a>

      </li>
      
      <li>
        <a href="https://github.com/GLAM-Workbench/glam-workbook/issues/new?title=Issue%20on%20page%20%2Furl-hacking.html&body=Your%20issue%20content%20here."
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Open an issue"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="headerbtn__text-container">open issue</span>
</a>

      </li>
      
    </ul>
  </div>
</div>

<div class="menu-dropdown menu-dropdown-download-buttons">
  <button class="headerbtn menu-dropdown__trigger"
      aria-label="Download this page">
      <i class="fas fa-download"></i>
  </button>
  <div class="menu-dropdown__content">
    <ul>
      <li>
        <a href="_sources/url-hacking.md"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Download source file"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="headerbtn__text-container">.md</span>
</a>

      </li>
      
      <li>
        
<button onclick="printPdf(this)"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="left"
title="Print to PDF"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="headerbtn__text-container">.pdf</span>
</button>

      </li>
      
    </ul>
  </div>
</div>

    </div>
</div>

<!-- Table of contents -->
<div class="col-md-3 bd-toc show noprint">
</div>
    </div>
    <div class="article row">
        <div class="col pl-md-3 pl-lg-5 content-container">
            <!-- Table of contents that is only displayed when printing the page -->
            <div id="jb-print-docs-body" class="onlyprint">
                <h1>Empty searches and hacking URLs</h1>
                <!-- Table of contents -->
                <div id="print-main-content">
                    <div id="jb-print-toc">
                        
                    </div>
                </div>
            </div>
            <main id="main-content" role="main">
                
              <div>
                
  <section class="tex2jax_ignore mathjax_ignore" id="empty-searches-and-hacking-urls">
<h1>Empty searches and hacking URLs<a class="headerlink" href="#empty-searches-and-hacking-urls" title="Permalink to this headline">#</a></h1>
<p>Search interfaces present us with a set of options designed to structure our search experience in particular ways. For example, if you wanted to find out how many digitised newspaper articles are currently in Trove, you might try an <em>empty</em> search – a search with no keyword value. An empty search should return everything in the collection. But if you attempt this in the Trove web interface you’ll find that the search button remains disabled until you type something in the box. It just won’t let you.</p>
<p>This limitation is imposed by the interface, not the underlying search technologies. If you want to run an empty search you can bypass the interface with a little harmless url hacking. Try this:</p>
<ul>
<li><p>Head to <a class="reference external" href="https://trove.nla.gov.au/search/category/newspapers">Trove newspapers</a>, type anything in the search box, and hit the search button.</p></li>
<li><p>Now look at the url in your browser’s location bar. You should see something like:</p>
<div class="highlight-html notranslate"><div class="highlight"><pre><span></span>https://trove.nla.gov.au/search/category/newspapers?keyword=anything
</pre></div>
</div>
</li>
<li><p>Delete everything after the equals sign, so you end up with:</p>
<div class="highlight-http notranslate"><div class="highlight"><pre><span></span>https://trove.nla.gov.au/search/category/newspapers?keyword=
</pre></div>
</div>
</li>
<li><p>Hit enter to submit the edited url.</p></li>
</ul>
<p>You should now have more than 200 million search results. I just tried this myself and Trove told me there were 238,671,495 newspaper articles  – I think <a class="reference external" href="https://trove.nla.gov.au/search/advanced/category/newspapers?keyword=">that’s everything</a>!</p>
<p>Many collection interfaces impose these sorts of limits, and it can be very frustrating when the web designer’s expectations of our needs don’t match what we want to do. But it’s important to remember that the web page in our browser is just an intermediary between us and the server that actually delivers the data. The interface translates our search preferences into urls and fires them off to the server. When we edited the Trove url above, we were changing the instructions being sent to the server.</p>
<p>If you try to run an empty search in the <a class="reference external" href="https://collection.sl.nsw.gov.au/">State Library of NSW’s catalogue</a> you’ll receive a polite reminder to enter a search term. Once again just search for anything and then look closely at the url.</p>
<div class="highlight-http notranslate"><div class="highlight"><pre><span></span>https://collection.sl.nsw.gov.au/search?search=anything
</pre></div>
</div>
<figure class="margin align-right" id="id1">
<a class="reference internal image-reference" href="_images/slnsw-formats.png"><img alt="_images/slnsw-formats.png" src="_images/slnsw-formats.png" style="width: 207.5px; height: 403.0px;" /></a>
<figcaption>
<p><span class="caption-number">Fig. 1 </span><span class="caption-text">SLNSW by format</span><a class="headerlink" href="#id1" title="Permalink to this image">#</a></p>
</figcaption>
</figure>
<p>Yep, you guessed it. By deleting everything after the equals sign we can again bypass the interface and tell the server to <a class="reference external" href="https://collection.sl.nsw.gov.au/search?search=">give us everything</a>.</p>
<div class="highlight-http notranslate"><div class="highlight"><pre><span></span>https://collection.sl.nsw.gov.au/search?search=
</pre></div>
</div>
<p>Empty searches are useful because they help you understand what’s lurking behind the search box. To find relevant parts of a collection, it often helps to zoom out and see the whole. In this case, we can see how the State Library’s collection breaks down by format.</p>
<p>But there’s other things you can do by url hacking. You might notice that the State Library catalogue gives you an option to change the number of search results delivered. If we select ‘50 per page’ the search url changes.</p>
<div class="highlight-http notranslate"><div class="highlight"><pre><span></span>https://collection.sl.nsw.gov.au/search?search=&amp;limit=50
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">limit</span></code> parameter is telling the server how many results to return. But the interface only lets us set it to 20, 50, or 100. Try editing the url to set the limit value to 2, or 200, or some other number. By watching how search urls change, we can learn the language we need to communicate with servers directly.</p>
<p>However, the communication between interface and server isn’t always so transparent. Often data is retrieved from the server using Javascript and loaded within the current page. This can mean your browser’s url doesn’t always display the full range of parameters being sent to the server. Most web browsers include a set of developer tools that help you look at what’s going on beneath the surface. By looking at the network activity when we run a Trove search, we can see that requests are sent via Javascript to an internal API.</p>
<div class="highlight-http notranslate"><div class="highlight"><pre><span></span>https://trove.nla.gov.au/api/search/137?terms=&amp;limits={&quot;date.from&quot;:[null],&quot;date.to&quot;:[null]}&amp;pageSize=20
</pre></div>
</div>
<p>This is interesting. While Trove’s web interface doesn’t give you an option to change the number of results per page, it looks like a default value is sent to the server using the <code class="docutils literal notranslate"><span class="pre">pageSize</span></code> parameter. So what happens if we add this parameter to our search url? Does the value get passed on to the internal API? Let’s try.</p>
<div class="highlight-http notranslate"><div class="highlight"><pre><span></span>https://trove.nla.gov.au/search/category/newspapers?keyword=&amp;pageSize=100
</pre></div>
</div>
<p><a class="reference external" href="https://trove.nla.gov.au/search/category/newspapers?keyword=&amp;pageSize=100">Here’s the results.</a> As you can see, it works! By simply adding <code class="docutils literal notranslate"><span class="pre">&amp;pageSize=[some</span> <span class="pre">number]</span></code> to search urls in Trove you can control the number of results per page.</p>
<p>As you explore GLAM collections keep an eye on the urls that your search requests generate. What parameters do they contain, and what do they do? Experiment. Try changing some of the values. The worst that will happen is a server error. But experimenting might open up some options that the search interface is hiding.</p>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./."
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
            </main>
            <footer class="footer-article noprint">
                
    <!-- Previous / next buttons -->
<div class='prev-next-area'>
    <a class='left-prev' id="prev-link" href="proposed-topics.html" title="previous page">
        <i class="fas fa-angle-left"></i>
        <div class="prev-next-info">
            <p class="prev-next-subtitle">previous</p>
            <p class="prev-next-title">Proposed topics</p>
        </div>
    </a>
</div>
            </footer>
        </div>
    </div>
    <div class="footer-content row">
        <footer class="col footer"><p>
  
    By <b>Tim Sherratt</b><br/>
  
    <div class="extra_footer">
      <p><a  href="https://github.com/sponsors/wragge">❤️ Sponsor Tim on GitHub</a> &middot; 
<a href="https://www.buymeacoffee.com/wragge">	☕ Buy Tim a coffee</a></p>
<small class="text-muted">This work is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by/4.0/">Creative Commons Attribution 4.0 International License</a>.</small>

    </div>
</p>
        </footer>
    </div>
    
</div>


      </div>
    </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf"></script>


  </body>
</html>